## spec-store-3: Add skuFragment uniqueness validation

**Completed**: Added validateSkuFragment selector and enforced uniqueness

**Key decisions**:
- validateSkuFragment(specId, skuFragment, excludeValueId?) returns true if unique
- addSpecValue returns null if duplicate skuFragment in same spec
- updateSpecValue returns false if would create duplicate
- Different specs can share same skuFragment (Color:R and Size:R allowed)

**Files changed**:
- src/store/specifications.ts: Added validateSkuFragment, updated addSpecValue/updateSpecValue
- src/store/specifications.test.ts: Added 9 new tests for validation

---

## spec-store-2: Revive useSpecificationsStore as single source of truth

**Completed**: Store already fully implemented in spec-store-1

**Key decisions**:
- All requirements met: addSpecification, updateSpecification, removeSpecification, reorderSpec actions
- reorderSpec properly shifts other specs' orders for contiguity
- Persists to localStorage with key 'sku-specifications'
- 14 store tests all pass

**Files changed**: None (already complete from spec-store-1)

---

## spec-store-1: Update Specification type with order field

**Completed**: Updated data model types and specifications store

**Key decisions**:
- Renamed SpecValue fields: label→displayValue, skuCode→skuFragment (per PRD)
- Replaced Specification.columnIndex with order field
- Removed @deprecated markers from Specification/SpecValue (now primary interfaces)
- Store auto-assigns order=max+1 for new specs
- reorderSpec(specId, newOrder) shifts other specs' orders to maintain contiguity

**Files changed**:
- src/types/index.ts: Updated Specification & SpecValue interfaces
- src/store/specifications.ts: Removed deprecated status, added reorderSpec action
- src/store/specifications.test.ts: Updated tests for new field names, added reorderSpec tests
- src/lib/sku-generator.ts: Updated to use order/displayValue/skuFragment
- src/lib/sku-generator.test.ts: Updated test fixtures for new field names

**Notes**: Kept ParsedSpec/ParsedSpecValue/ConfigRow for backwards compat during migration
