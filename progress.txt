## remove-config-3: Update dropdown building to use specifications store

**Completed**: Dropdowns now built from useSpecificationsStore instead of Config sheet

**Key decisions**:
- Added extractHeaders() helper to get column names from first row
- Added buildDataVerification() to create Fortune-Sheet dropdown config
- dataVerification keyed by "{row}_{col}", applies dropdown to rows 1-99 in matching columns
- Column matched by header name === specification.name
- Dropdown value1 = comma-separated displayValues from spec
- Empty specs or specs with no values gracefully handled (no dropdown)
- Component re-renders when specifications change (specs in dependency array)

**Files changed**:
- src/components/SpreadsheetContainer.tsx: Added buildDataVerification, extractHeaders, useSpecificationsStore
- src/components/SpreadsheetContainer.test.tsx: Added 6 tests for dropdown building behavior

---

## remove-config-2: Remove Config sheet handling from SpreadsheetContainer

**Completed**: SpreadsheetContainer no longer references config-sheet.ts or Config sheet type

**Key decisions**:
- Removed imports: parseConfigSheet, getSpecValues from config-sheet.ts
- Removed configSheet and parsedSpecs memos
- Removed beforeDeleteSheet/beforeUpdateSheetName hooks (no more Config protection)
- Removed sheet.type === 'config' checks in onChange handler
- Removed orange color styling for Config sheet
- Removed buildDataVerification and extractHeaders (dropdown building deferred to remove-config-3)
- processAutoSKU now passes empty specs array (to be fixed in sku-gen-2)
- Added TODO comments for remove-config-3 and sku-gen-2 follow-up tasks

**Files changed**:
- src/components/SpreadsheetContainer.tsx: Removed all Config sheet references
- src/components/SpreadsheetContainer.test.tsx: Updated tests for new behavior

---

## remove-config-1: Remove Config sheet from initialization

**Completed**: Config sheet no longer created on first launch; specs go to store

**Key decisions**:
- initializeWithSampleData() creates only Sample Products data sheet (no Config)
- getSampleSpecifications() returns Specification[] with Color/Size/Material
- Sample specs added directly to useSpecificationsStore on first launch
- onRehydrateStorage also updated to use new pattern
- Legacy createSampleSheets() kept with @deprecated for migration task

**Files changed**:
- src/lib/sample-data.ts: Added getSampleSpecifications(), createSampleProductSheet()
- src/store/sheets.ts: Updated initializeWithSampleData() and onRehydrateStorage
- src/lib/sample-data.test.ts: Added tests for getSampleSpecifications()
- src/store/sheets.test.ts: Updated tests for new behavior (no Config sheet)

---

## spec-store-3: Add skuFragment uniqueness validation

**Completed**: Added validateSkuFragment selector and enforced uniqueness

**Key decisions**:
- validateSkuFragment(specId, skuFragment, excludeValueId?) returns true if unique
- addSpecValue returns null if duplicate skuFragment in same spec
- updateSpecValue returns false if would create duplicate
- Different specs can share same skuFragment (Color:R and Size:R allowed)

**Files changed**:
- src/store/specifications.ts: Added validateSkuFragment, updated addSpecValue/updateSpecValue
- src/store/specifications.test.ts: Added 9 new tests for validation

---

## spec-store-2: Revive useSpecificationsStore as single source of truth

**Completed**: Store already fully implemented in spec-store-1

**Key decisions**:
- All requirements met: addSpecification, updateSpecification, removeSpecification, reorderSpec actions
- reorderSpec properly shifts other specs' orders for contiguity
- Persists to localStorage with key 'sku-specifications'
- 14 store tests all pass

**Files changed**: None (already complete from spec-store-1)

---

## spec-store-1: Update Specification type with order field

**Completed**: Updated data model types and specifications store

**Key decisions**:
- Renamed SpecValue fields: label→displayValue, skuCode→skuFragment (per PRD)
- Replaced Specification.columnIndex with order field
- Removed @deprecated markers from Specification/SpecValue (now primary interfaces)
- Store auto-assigns order=max+1 for new specs
- reorderSpec(specId, newOrder) shifts other specs' orders to maintain contiguity

**Files changed**:
- src/types/index.ts: Updated Specification & SpecValue interfaces
- src/store/specifications.ts: Removed deprecated status, added reorderSpec action
- src/store/specifications.test.ts: Updated tests for new field names, added reorderSpec tests
- src/lib/sku-generator.ts: Updated to use order/displayValue/skuFragment
- src/lib/sku-generator.test.ts: Updated test fixtures for new field names

**Notes**: Kept ParsedSpec/ParsedSpecValue/ConfigRow for backwards compat during migration
