## PRD-004: SKU Generation Logic (Config Sheet Approach) - COMPLETE
- Created config-sheet.ts: parseConfigSheet extracts ParsedSpec[] from Config sheet data
- getSpecValues returns values for a spec name, lookupSkuCode finds SKU code for spec+value
- getSpecNames helper returns all spec names
- Created sheet-sku.ts: generateRowSKU takes row values, column headers, parsed config, settings
- extractColumnHeaders gets headers excluding last column (SKU column)
- getRowValuesWithoutSKU slices row to exclude SKU column
- 19 tests for config-sheet.ts: parsing, grouping, empty handling, whitespace trim
- 22 tests for sheet-sku.ts: basic gen, delimiter/prefix/suffix, edge cases
- Test: Row 'Red','Small' with headers 'Color','Size' -> 'R-S' ✓
- All feedback loops pass (110 tests)

Files created:
- src/lib/config-sheet.ts
- src/lib/config-sheet.test.ts
- src/lib/sheet-sku.ts
- src/lib/sheet-sku.test.ts

## PRD-003: State Management (Config Sheet Approach) - COMPLETE
- Updated sheets.ts: Config sheet as first sheet with headers (Specification, Value, SKU Code)
- Added initializeWithConfigSheet() to create Config sheet on app start
- Added getConfigSheet() helper to retrieve Config sheet
- Config sheet protected from deletion (removeSheet returns false)
- Deprecated specifications.ts with notice - specs now live in Config sheet
- Data sheet naming excludes Config from count (Sheet 1, Sheet 2...)
- 7 new tests: initializeWithConfigSheet, getConfigSheet, Config protection
- All feedback loops pass (69 tests)

Files changed:
- src/store/sheets.ts (Config sheet init, protection, getConfigSheet)
- src/store/sheets.test.ts (+7 new tests)
- src/store/specifications.ts (added deprecation notice)

## PRD-002: Data Model (Config Sheet Approach) - COMPLETE
- Updated src/types/index.ts for Config sheet-based spec management
- ConfigRow: interface for Config sheet rows (specification, value, skuCode)
- ParsedSpec + ParsedSpecValue: parsed specs grouped by name
- SheetConfig: added 'type' field (SheetType = 'config' | 'data')
- AppSettings: unchanged (delimiter, prefix, suffix)
- CellData: unchanged (Fortune-Sheet cell format)
- SelectedValues: Map<string, string> - now maps spec name to value label
- Kept legacy Specification/SpecValue interfaces with @deprecated for migration
- Updated sheets.ts createEmptySheet to accept type parameter

Files changed:
- src/types/index.ts
- src/store/sheets.ts (type field fix)

All feedback loops pass (62 tests)

## PRD-005: Specification Management UI - COMPLETE
- Created SpecificationList component with Framer Motion Reorder for drag-reorder
- Created SpecificationItem with expand/collapse animations (ChevronDown rotation)
- SpecificationForm dialog for add/edit spec name
- Inline SpecValueForm within SpecificationItem for adding label+skuCode pairs
- Drag handle uses useDragControls for pointer-based reordering
- AnimatePresence for smooth add/remove animations on specs and values
- Delete confirmation via direct button (no dialog - per minimalism)
- 13 tests covering: empty state, add spec, edit spec, delete spec, add value, delete value, expand/collapse, value count, keyboard interactions
- All feedback loops pass (62 total tests)

Files created:
- src/components/SpecificationList.tsx
- src/components/SpecificationItem.tsx
- src/components/SpecificationForm.tsx
- src/components/SpecificationList.test.tsx

Files changed:
- src/App.tsx (integrated SpecificationList in sidebar)
- src/test/setup.ts (added scrollTo mock for framer-motion)
- package.json (@testing-library/user-event added)

## PRD-009: App Layout - COMPLETE
- Created AppLayout component with shadcn/ui SidebarProvider
- Left sidebar: header with "Specifications" title, content slot, Settings button footer
- Main area: SidebarInset with header (title + toggle) and main content slot
- Sidebar uses collapsible="offcanvas" mode for collapse/expand
- Header includes SidebarTrigger for toggle + app title "SKU Generator"
- Added matchMedia mock to test setup for jsdom compatibility
- 6 tests covering: header, sidebar, content slots, settings button, toggle
- All feedback loops pass (49 total tests)

Files created/changed:
- src/components/AppLayout.tsx
- src/components/AppLayout.test.tsx
- src/App.tsx (updated to use AppLayout)
- src/test/setup.ts (added matchMedia mock)

## PRD-004: SKU Generation Logic - COMPLETE
- Created generateSKU function in src/lib/sku-generator.ts
- Takes: selectedValues (Map<specId,label>), specifications[], settings
- Looks up skuCode for each selected label in spec values
- Sorts by columnIndex for consistent ordering
- Joins codes with configurable delimiter, prefix, suffix
- Returns empty string if no values selected
- 13 tests covering: basic generation, column ordering, custom delimiter, prefix/suffix, edge cases
- Test: Temperature='29deg C' (29C) + Color='Red' (R) = '29C-R' ✓
- All feedback loops pass (43 total tests)

Files created:
- src/lib/sku-generator.ts
- src/lib/sku-generator.test.ts

## PRD-003: State Management - COMPLETE
- Created Zustand stores with localStorage persistence
- specifications.ts: CRUD for specs and values, reorder, columnIndex recalc
- sheets.ts: multi-sheet management, activeSheetId, cell updates
- settings.ts: delimiter, prefix, suffix config
- localStorage keys: sku-specifications, sku-sheets, sku-settings
- 30 tests passing (10 specs, 12 sheets, 7 settings + 1 app)

Files created:
- src/store/index.ts
- src/store/specifications.ts + .test.ts
- src/store/sheets.ts + .test.ts
- src/store/settings.ts + .test.ts

## PRD-002: Data Model - COMPLETE
- Created src/types/index.ts with all required interfaces
- SpecValue: id, label, skuCode
- Specification: id, name, values[], columnIndex
- SheetConfig: id, name, data[][] for multi-sheet support
- CellData: Fortune-Sheet cell structure (v, m, ct)
- AppSettings: delimiter, prefix, suffix for SKU config
- SelectedValues: Map<string, string> type alias
- All feedback loops pass

Files created:
- src/types/index.ts

## PRD-001: Project Setup - COMPLETE
- Initialized React+Vite+TypeScript project manually (Vite CLI had permission issues)
- Installed: zustand, framer-motion, @fortune-sheet/react@1.0.4, tailwindcss, shadcn/ui deps
- Configured: tailwind.config.js, postcss.config.js with shadcn theme vars
- Added shadcn/ui components: button, card, dialog, input, label, tabs, separator, tooltip, sidebar
- Created use-mobile hook for sidebar responsiveness
- Setup vitest with jsdom + testing-library
- All feedback loops pass: typecheck, lint (warnings only), test

Files created/changed:
- package.json, tsconfig.json, tsconfig.node.json, vite.config.ts
- tailwind.config.js, postcss.config.js, eslint.config.js
- index.html, src/main.tsx, src/App.tsx, src/index.css, src/vite-env.d.ts
- src/lib/utils.ts
- src/components/ui/*.tsx (button, card, dialog, input, label, tabs, separator, tooltip, sidebar)
- src/hooks/use-mobile.tsx
- vitest.config.ts, src/test/setup.ts, src/App.test.tsx

